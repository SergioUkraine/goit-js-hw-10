{"mappings":"0DACAA,OAAOC,eAAeC,EAAS,aAAc,CACzCC,OAAO,IAEXD,EAAQE,QACR,SAAyBC,EAAKC,EAAKH,GAC3BG,KAAOD,EACPL,OAAOC,eAAeI,EAAKC,EAAK,CAC5BH,MAAOA,EACPI,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdJ,EAAIC,GAAOH,EAEf,OAAOE,C,ECdX,MAAMK,EAUFC,cAEI,OAAOC,MADK,GAAGF,EAAOG,iBACJH,EAAOI,QACpBC,MAAKC,GACKA,EAAOC,SAEjBC,S,CAGTC,gBAAgBC,GAEZ,OAAOR,MADK,GAAGF,EAAOG,mCAAmCO,IACvCV,EAAOI,QACpBC,MAAKC,GACKA,EAAOC,SAEjBC,S,CAGTG,aAAahB,GACT,MAAO,yIAKEA,EAAIiB,wBACJjB,EAAIkB,OAAO,GAAGC,wHAKOnB,EAAIkB,OAAO,GAAGC,mEAExCnB,EAAIkB,OAAO,GAAGE,qIAE+EpB,EAAIkB,OAAO,GAAGG,+B,EA3CnHC,EAAAzB,EAAA,CADEQ,EACK,UAAU,gCACjBiB,EAAAzB,EAAA,CAFEQ,EAEK,UAAU,yEACjBiB,EAAAzB,EAAA,CAHEQ,EAGK,SAAS,CACZkB,QACA,CACI,YAAalB,EAAOmB,WCLhC,MAAMC,ECFK,CACHC,OAAQC,SAASC,cAAc,iBAC/BC,OAAQF,SAASC,cAAc,WAC/BE,MAAOH,SAASC,cAAc,UAC9BG,UAAWJ,SAASC,cAAc,cDDpCI,EAAQ,IAAI3B,EA0ClB,SAAS4B,EAAeC,GACpBA,EAAQC,UAAUC,IAAI,a,CAG1B,SAASC,EAAcH,GACnBA,EAAQC,UAAUG,OAAO,a,CAG7B,SAASC,EAAYC,GACjBC,QAAQC,IAAI,kBAAoBF,GAChCH,EAAcZ,EAAKK,M,CAlDvBO,EAAcZ,EAAKI,QAEnBG,EAAM1B,cACDI,MAAMiC,KAoBX,SAA0BC,GACtBnB,EAAKC,OAAOmB,UAAY,6CACxBD,EAAME,SAAQ9C,IACV,MAAMS,EAASkB,SAASoB,cAAc,UACtCtC,EAAOX,MAAQE,EAAIgD,GACnBvC,EAAOwC,YAAcjD,EAAImB,KACzBM,EAAKC,OAAOwB,YAAYzC,EAAO,IAInC,MAAM0C,EAASxB,SAASoB,cAAc,UACtCI,EAAOrD,MAAQ,YACfqD,EAAOF,YAAc,eACrBxB,EAAKC,OAAOwB,YAAYC,EACI,CAjCxBC,CAAiBT,GACjBN,EAAcZ,EAAKC,OAAO,IAE7B2B,MAAMd,GACN1B,SAAQ,IAAMoB,EAAeR,EAAKI,UAEvCJ,EAAKC,OAAO4B,iBAAiB,UAE7B,SAAkBC,GACdlB,EAAcZ,EAAKI,QACnBJ,EAAKM,UAAUc,UAAY,GAC3Bb,EAAMlB,gBAAgByC,EAAEC,OAAO1D,OAC9BY,MAAK+C,IACFhC,EAAKM,UAAUc,UAAYb,EAAMhB,aAAayC,EAAQ,GAAG,IAE5DJ,MAAMd,GACN1B,SAAQ,IAAKoB,EAAeR,EAAKI,S","sources":["node_modules/@swc/helpers/lib/_define_property.js","src/js/cat-api.js","src/index.js","src/js/get-refs.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","export { CatAPI };\n\nclass CatAPI {\n    static API_URL = 'https://api.thecatapi.com/v1';\n    static API_KEY = 'live_GYGgMcHHNkd9gW51QzpeWfE9IqgKu8oK27C2IYbrtfbBWKvcPJoAJlK0Ig0chd0L';\n    static option = {\n        headers:\n        {\n            'x-api-key': CatAPI.API_KEY,\n        }\n    };\n\n    fetchBreeds() {\n        const url = `${CatAPI.API_URL}/breeds`\n        return fetch(url, CatAPI.option)\n            .then(result => {   \n                return result.json()\n            })\n            .finally()\n    }\n\n    fetchCatByBreed(breedId) {\n        const url = `${CatAPI.API_URL}/images/search?breed_ids=${breedId}`;\n        return fetch(url, CatAPI.option)\n            .then(result => {\n                return result.json()\n            })\n            .finally()\n    }\n\n    createMarkup(obj) {\n        return `\n      <div class=\"cat-info__image-thumb\">\n        <img\n          class=\"cat-info__image\"\n          width=\"300px\"\n          src=\"${obj.url}\"\n          alt=\"${obj.breeds[0].name} cat\"\n        />\n      </div>\n\n      <div class=\"cat-info__info-thumb\">\n        <h2 class=\"cat-info__title\">${obj.breeds[0].name}</h2>\n        <p class=\"cat-info__description\">\n          ${obj.breeds[0].description}\n        </p>\n        <p class=\"cat-info__temperament\"><span class=\"cat-info__temperament--bold\">Temperament:</span> ${obj.breeds[0].temperament}</p>\n      </div>`\n    }\n}","import { CatAPI } from \"./js/cat-api\";\nimport getRefs from \"./js/get-refs\";\n\nconst refs = getRefs();\nconst myCat = new CatAPI();\n\nenableElement(refs.loader)\n    \nmyCat.fetchBreeds()\n    .then((res) => {\n        addSelectOptions(res)\n        enableElement(refs.select)\n    })\n    .catch(handleError)\n    .finally(() => disableElement(refs.loader))\n\nrefs.select.addEventListener('change', onChange)\n\nfunction onChange(e) {\n    enableElement(refs.loader);\n    refs.container.innerHTML = '';\n    myCat.fetchCatByBreed(e.target.value)\n    .then(picture => {\n        refs.container.innerHTML = myCat.createMarkup(picture[0]);\n    })\n    .catch(handleError)\n    .finally(()=> disableElement(refs.loader))\n}    \n\nfunction addSelectOptions(array) {\n    refs.select.innerHTML = '<option value=\"\">Select option...</option>';\n    array.forEach(obj => {\n        const option = document.createElement('option');\n        option.value = obj.id;\n        option.textContent = obj.name;\n        refs.select.appendChild(option);\n    });\n\n    /************************ */\n    const option = document.createElement('option');\n    option.value = 'asdfghjkl';\n    option.textContent = 'Wrong option'\n    refs.select.appendChild(option);\n    /************************ */\n}\n\nfunction disableElement(element) {\n    element.classList.add('disable-js');\n}\n\nfunction enableElement(element) {\n    element.classList.remove('disable-js');\n}\n\nfunction handleError(err) {\n    console.log(`Error cought = ` + err)\n    enableElement(refs.error)\n}","export default function getRefs() {\n    return {\n        select: document.querySelector('.breed-select'),\n        loader: document.querySelector('.loader'),\n        error: document.querySelector('.error'),\n        container: document.querySelector('.cat-info'),\n    }\n}"],"names":["Object","defineProperty","$da4b248c00322402$exports","value","default","obj","key","enumerable","configurable","writable","$c4ebbd28ee7007ee$export$9895e70d422078ba","fetchBreeds","fetch","API_URL","option","then","result","json","finally","fetchCatByBreed","breedId","createMarkup","url","breeds","name","description","temperament","$parcel$interopDefault","headers","API_KEY","$1f0dc3b9307be026$var$refs","select","document","querySelector","loader","error","container","$1f0dc3b9307be026$var$myCat","$1f0dc3b9307be026$var$disableElement","element","classList","add","$1f0dc3b9307be026$var$enableElement","remove","$1f0dc3b9307be026$var$handleError","err","console","log","res","array","innerHTML","forEach","createElement","id","textContent","appendChild","option1","$1f0dc3b9307be026$var$addSelectOptions","catch","addEventListener","e","target","picture"],"version":3,"file":"index.0fa93f64.js.map"}